window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){return i(t[r][1][e]||e)},d,d.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Banner111006601:[function(e,t,n){"use strict";cc._RF.push(t,"f2e42C00eZOrI50LCynPOaC","Banner111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.SlotBanner));n.default=c,cc._RF.pop()},{}],BonusGame111006601:[function(e,t,n){"use strict";cc._RF.push(t,"b1db2tdMetMBafI9Q8CzqfD","BonusGame111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.FreeWinType=void 0;var r,s=e("../common/GameEventName111006601"),c=e("../common/NumAtlasLabel111006601"),l=cc._decorator,d=l.ccclass,p=l.property;(function(e){e[e.nolow=11]="nolow",e[e.wildstack=12]="wildstack",e[e.randomwild=13]="randomwild",e[e.multiple3=14]="multiple3",e[e.respin=15]="respin"})(r=n.FreeWinType||(n.FreeWinType={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectBrideNode=null,t.clickNode=null,t.startNode=null,t.jiangjingameNode=null,t.shengyuNode=null,t.shengyuNum=null,t.winNode=null,t.winSprite=null,t.aWardType=[],t.light=null,t.startRotation=null,t.cishuNum=0,t.typeArr=[],t.brideBtn=[],t.closeTween=null,t.index_n=0,t.idArr=[],t.nodeid=0,t.idleNoName="",t.bianshenAnima="",t.idleAnima="",t._winMoney=0,t}return i(t,e),t.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.lgActionResp,this)},t.prototype.onOpen=function(){cc.log("===\u5c0f\u6e38\u620f onload"),this.jiangjingameNode.active=!0,this.shengyuNode.active=!1,this.startNode.active=!1,this.startNode.getComponent(cc.Button).interactable=!1,this.winNode.active=!1,this.loadAtlas(),cc.log("===this.jiangjingameNode.width:",this.jiangjingameNode.width),this.jiangjingameNode.width>220&&(this.jiangjingameNode.scale=220/this.jiangjingameNode.width),this.typeArr=[],this.brideBtn=[],this.reconnectInitData()},t.prototype.reconnectInitData=function(){if(this.bonusGameInfo.history.length>0){this.cishuNum=this.bonusGameInfo.quantity,this.typeArr=[],this.reconnectStartInfo();for(var e=0;e<this.bonusGameInfo.history[0].reward.length;e++){this.nodeid=this.bonusGameInfo.history[0].result[e],this.idArr.push(this.nodeid);var t=this.bonusGameInfo.history[0].reward[e].number.toString();this.index_n=Number(t.slice(t.length-2,t.length)),this.typeArr.push(this.index_n),this.reconnectRewardTypeShowAnima(this.index_n)}}else this.initInfo(),this.cishuNum=this.bonusGameInfo.quantity},t.prototype.reconnectStartInfo=function(){this.jiangjingameNode.active=!1,this.startRotation.active=!1,this.shengyuNode.active=!0,this.shengyuNum.getComponent(c.default).string=this.cishuNum.toString();for(var e=0,t=0;t<this.clickNode.childrenCount;t++){var n=this.clickNode.children[t].getComponent(cc.Button);n&&(n.interactable=!0,n.node.attr({chooseId:e}),this.getBrideAnima(e+11),n.node.children[0].getComponent(sp.Skeleton).setAnimation(0,this.idleNoName,!0),n.node.on("click",this.onClickBrideNode,this),this.brideBtn.push(n.node),e++)}cc.log("===this.brideBtn:",this.brideBtn)},t.prototype.initInfo=function(){var e=this;this.closeTween&&this.closeTween.stop();var t=this.startRotation.getChildByName("rotation");t.angle=0,cc.tween(t).by(1.5,{angle:-720}).call(function(){e.startRotation.active=!1,slot.SoundMger.instance.playEffect("Collect_Appear_Sound",!1),e.startNode.active=!0,cc.tween(e.startNode).to(.3,{scale:1.1}).to(.2,{scale:1}).call(function(){e.startNode.getComponent(cc.Button).interactable=!0}).start(),e.startNode.on("click",e.onClickStart,e),e.startNode.getChildByName("mianfeianniu").getComponent(sp.Skeleton).setAnimation(0,"animation_1",!0)}).start(),this.closeTween=cc.tween(this).delay(6.5).call(function(){e.onClickStart()}).start(),this.winMoney=0,cc.tween(this).to(1.5,{winMoney:100}).start();for(var n=0;n<this.clickNode.childrenCount;n++){var o=this.clickNode.children[n].getComponent(cc.Button);o&&this.brideBtn.push(o.node)}cc.log("===initInfo this.brideBtn:",this.brideBtn)},t.prototype.lgActionResp=function(e,t){cc.log("===\u5c0f\u6e38\u620f lgActionResp");var n=t.reward.reward[0].number.toString();this.index_n=Number(n.slice(n.length-2,n.length)),cc.log("=== index_n:",this.index_n),this.typeArr&&this.typeArr.push(this.index_n),this.getRewardTypeShowAnima(this.index_n)},t.prototype.onClickStart=function(){var e=this;this.brideBtn=[],this.startNode.getComponent(cc.Button).interactable=!1,slot.SoundMger.instance.playEffect("Collect_Sound",!1),this.closeTween&&this.closeTween.stop(),this.closeTween=null,this.startNode.getChildByName("mianfeianniu").getComponent(sp.Skeleton).setAnimation(0,"animation_2",!1),cc.tween(this.startNode).delay(.5).to(.2,{scale:.1,opacity:50}).call(function(){e.startNode.active=!1}).start(),this.jiangjingameNode.active=!1,this.shengyuNode.active=!0,this.shengyuNum.getComponent(c.default).string=this.cishuNum.toString();for(var t=0,n=0;n<this.clickNode.childrenCount;n++){var o=this.clickNode.children[n].getComponent(cc.Button);o&&(o.node.attr({chooseId:t}),this.getBrideAnima(t+11),o.node.children[0].getComponent(sp.Skeleton).setAnimation(0,this.idleNoName,!0),this.brideBtn.push(o.node),t++)}cc.log("===\u5f00\u59cb this.brideBtn:",this.brideBtn),this.initGrideStartAni()},t.prototype.initGrideStartAni=function(){var e=this;slot.SoundMger.instance.playEffect("Bride_Rotation",!1),this.clickNode.getComponent(cc.Animation).play("clicknode"),this.clickNode.children[3].active=!0,this.clickNode.children[4].active=!0,this.clickNode.children[this.clickNode.childrenCount-1].active=!1,this.clickNode.children[this.clickNode.childrenCount-2].active=!1,cc.tween(this.clickNode.children[3]).to(.5,{scale:0}).to(.2,{scale:.7}).start(),cc.tween(this.clickNode.children[4]).to(.5,{scale:0}).to(.2,{scale:.7}).start();for(var t=function(t){var o=n.clickNode.children[t].getComponent(cc.Button);o&&cc.tween(n).delay(.5).call(function(){o.interactable=!0,o.node.children[0].color=cc.color(255,255,255),o.node.on("click",e.onClickBrideNode,e),e.clickNode.children[e.clickNode.childrenCount-1].active=!0,e.clickNode.children[e.clickNode.childrenCount-2].active=!0,e.clickNode.children[3].active=!1,e.clickNode.children[4].active=!1}).start()},n=this,o=0;o<this.clickNode.childrenCount;o++)t(o);this.light.active=!0,this.light.getComponent(sp.Skeleton).setAnimation(0,"light",!1),this.light.getComponent(sp.Skeleton).setCompleteListener(function(){"light"==e.light.getComponent(sp.Skeleton).animation?e.light.getComponent(sp.Skeleton).setAnimation(0,"particle",!1):"particle"==e.light.getComponent(sp.Skeleton).animation&&(e.light.active=!1)})},t.prototype.onClickBrideNode=function(e){var t=this;slot.SoundMger.instance.playEffect("Feature_Chosen",!1),this.nodeid=e.node.chooseId,this.idArr.push(this.nodeid),e.interactable=!1,cc.log("nodeid: ",this.nodeid),this.operate([this.nodeid]),this.cishuNum--,this.shengyuNum.getComponent(c.default).string=this.cishuNum.toString(),this.selectBrideNode.getComponent(sp.Skeleton).setAnimation(0,"win",!1),this.selectBrideNode.getComponent(sp.Skeleton).setCompleteListener(function(){"win"==t.selectBrideNode.getComponent(sp.Skeleton).animation&&t.selectBrideNode.getComponent(sp.Skeleton).setAnimation(0,"idle",!1)})},t.prototype.reconnectRewardTypeShowAnima=function(e){var t=this.brideBtn[this.nodeid];t.getComponent(cc.Button).interactable=!1,this.getBrideAnima(e),this.bianshenAnima;var n=this.idleAnima;3!=this.nodeid&&4!=this.nodeid||(this.bianshenAnima,n=this.idleAnima+"_crop"),t.children[0].getComponent(sp.Skeleton).setAnimation(0,n,!0)},t.prototype.getRewardTypeShowAnima=function(e){var t=this;this.brideBtn=[];for(var n=0;n<this.clickNode.childrenCount;n++){var o=this.clickNode.children[n].getComponent(cc.Button);o&&this.brideBtn.push(o.node)}cc.log("===\u70b9\u51fb\u8fd4\u56de\uff1a",this.brideBtn,this.nodeid);var i=this.brideBtn[this.nodeid];this.getBrideAnima(e);var a=this.bianshenAnima,r=this.idleAnima;3!=this.nodeid&&4!=this.nodeid||(a=this.bianshenAnima+"_crop",r=this.idleAnima+"_crop"),i.children[0].getComponent(sp.Skeleton).setAnimation(0,a,!1),i.children[0].getComponent(sp.Skeleton).setCompleteListener(function(){i.children[0].getComponent(sp.Skeleton).animation==a&&i.children[0].getComponent(sp.Skeleton).setAnimation(0,r,!0)}),this.chooseBrideNode(),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Reveal_Reward",!1),t.winNode.active=!0,t.winNode.opacity=255,t.winSprite.getComponent(cc.Sprite).spriteFrame=t.aWardType[e-11],t.winSprite.opacity=0,cc.tween(t.winSprite).delay(.5).to(.5,{opacity:255}).start(),t.winNode.getChildByName("tanchuang").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),cc.tween(t.winNode).delay(1.5).to(.5,{opacity:0}).call(function(){t.winNode.active=!1}).start()},.5);var s=0;0===this.bonusGameInfo.quantity&&(s=2.8,this.onCloseView()),this.scheduleOnce(function(){t.next()},s)},t.prototype.chooseBrideNode=function(){var e=this;this.brideState(1),0!=this.cishuNum?this.scheduleOnce(function(){e.brideState(2)},2.5):this.scheduleOnce(function(){e.brideState(3)},2)},t.prototype.brideState=function(e){for(var t=0;t<this.brideBtn.length;t++){for(var n=!1,o=0;o<this.idArr.length;o++)if(this.brideBtn[t].chooseId==this.idArr[o]){n=!0;break}n||1!=e?n||2!=e?n&&3==e&&(slot.SoundMger.instance.playEffect("Bride_Move",!1),this.brideBtn[t].x<0?cc.tween(this.brideBtn[t]).by(.5,{x:-500,y:300}).start():cc.tween(this.brideBtn[t]).by(.5,{x:500,y:300}).start()):(this.brideBtn[t].children[0].color=cc.color(255,255,255),this.brideBtn[t].getComponent(cc.Button).interactable=!0):(this.brideBtn[t].children[0].color=cc.color(89,69,69),this.brideBtn[t].getComponent(cc.Button).interactable=!1)}},t.prototype.getBrideAnima=function(e){switch(e){case r.nolow:this.idleNoName="idle",this.bianshenAnima="reveal_nolow",this.idleAnima="idle_nolow";break;case r.wildstack:this.idleNoName="idle",this.bianshenAnima="reveal_wildstack",this.idleAnima="idle_wildstack";break;case r.randomwild:this.idleNoName="idle",this.bianshenAnima="reveal_randomwild",this.idleAnima="idle_randomwild";break;case r.multiple3:this.idleNoName="idle_crop",this.bianshenAnima="reveal_3",this.idleAnima="idle_3";break;case r.respin:this.idleNoName="idle_crop",this.bianshenAnima="reveal_respin",this.idleAnima="idle_respin"}},t.prototype.onCloseView=function(){var e=this;cc.log("\u5c0f\u6e38\u620f \u5f39\u7a97\u5173\u95ed"),slot.SoundMger.instance.playEffect("Bride_Move",!1),cc.tween(this.node).delay(2.1).call(function(){game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_ROLE_NODE,[e.idArr,e.typeArr])}).delay(.5).by(.3,{y:-2e3}).call(function(){e.typeArr=[],e.idArr=[],e.onDestroy()}).start()},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.startRotation.getChildByName("num").getComponent(c.default).string=Math.floor(e)+""},enumerable:!1,configurable:!0}),t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),cc.log("===\u5c0f\u6e38\u620f onDestroy"),this.idArr=[],this.typeArr=[],game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.lgActionResp,this)},t.prototype.loadAtlas=function(){var e=this,t=slot.GData.getParameter("bonusgame").bonusgame;if(t)for(var n=function(t){var n=t.atlas;n=n.replace("&",slot.GData.curLanguage);var i=t.spriteFrames;o.loadRes(n,cc.SpriteAtlas,function(t,n){t||e.initAwardInfo(n,i)},slot.GData.bundleName)},o=this,i=0,a=t;i<a.length;i++)n(a[i])},t.prototype.initAwardInfo=function(e,t){this.aWardType=[];for(var n=0,o=t;n<o.length;n++){var i=o[n],a=e.getSpriteFrame(i);a&&this.aWardType.push(a)}},a([p({type:cc.Node,tooltip:"\u4eba\u7269node"})],t.prototype,"selectBrideNode",void 0),a([p({type:cc.Node,tooltip:"5\u4e2a\u65b0\u5a18\u70b9\u51fbnode"})],t.prototype,"clickNode",void 0),a([p({type:cc.Node,tooltip:"\u5f00\u59cbNode"})],t.prototype,"startNode",void 0),a([p({type:cc.Node,tooltip:"\u5f00\u59cb\uff08\u5956\u91d1\u6e38\u620f\uff09"})],t.prototype,"jiangjingameNode",void 0),a([p({type:cc.Node,tooltip:"\u5269\u4f59\u8282\u70b9"})],t.prototype,"shengyuNode",void 0),a([p({type:cc.Node,tooltip:"\u5269\u4f59\u6b21\u6570"})],t.prototype,"shengyuNum",void 0),a([p({type:cc.Node,tooltip:"\u5956\u52b1\u5c55\u793a\u8282\u70b9"})],t.prototype,"winNode",void 0),a([p({type:cc.Node,tooltip:"\u5956\u52b1\u7684\u7c7b\u578b"})],t.prototype,"winSprite",void 0),a([p(cc.Node)],t.prototype,"light",void 0),a([p(cc.Node)],t.prototype,"startRotation",void 0),a([d],t)}(slot.AbstractBonusGameView);n.default=h,cc._RF.pop()},{"../common/GameEventName111006601":"GameEventName111006601","../common/NumAtlasLabel111006601":"NumAtlasLabel111006601"}],FreeGameResult11000066:[function(e,t,n){"use strict";cc._RF.push(t,"41bcdBe8kxK4IjQCvkeoN95","FreeGameResult11000066");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/NumAtlasLabel111006601"),s=cc._decorator,c=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.button=null,t.clickNode=null,t.star=null,t.callBack=null,t.closeTween=null,t.numTween=null,t.win=0,t._winMoney=0,t}return i(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];cc.log("=====onOpen"),slot.SoundMger.instance.playMusic("Free_Game_Settlement",!1),this.scheduleOnce(function(){slot.SoundMger.instance.stopMusic("Free_Game_Settlement"),slot.SoundMger.instance.playEffect("Free_Game_Settlement_End",!1),slot.SoundMger.instance.playMusic("Game_Back_Music",!0)},3.5),this.node.active=!0,this.callBack=n[0][0],this.win=n[0][1];var i=n[0][1];this.clickNode.on("click",this.onClickAll,this),this.clickNode.getComponent(cc.Button).interactable=!0,0==i?this.label.getComponent(r.default).string=slot.SlotUtils.formatNumber(i):(this.winMoney=0,this.numTween=cc.tween(this).to(3,{winMoney:i}).start()),this.button.active=!1,this.button.on("click",this.onClickButtonNode,this),this.closeTween&&this.closeTween.stop(),this.closeTween=cc.tween(this).delay(8).call(function(){t.onClickButtonNode()}).start(),this.star.active=!0;var a=this.star.getComponent(cc.Animation).play();a.wrapMode=cc.WrapMode.Loop},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.label.getComponent(r.default).string=slot.SlotUtils.formatNumber(e),e==this.win&&(slot.SoundMger.instance.playEffect("Collect_Appear_Sound",!1),this.button.active=!0,this.button.scale=.2,cc.tween(this.button).to(.3,{scale:1}).start())},enumerable:!1,configurable:!0}),t.prototype.onClickButtonNode=function(){cc.log("=====\u5173\u95edonClickButtonNode"),slot.SoundMger.instance.playEffect("Collect_Sound",!1),game.UIManager.getInstance().close(this)},t.prototype.onClose=function(){cc.log("=====\u5173\u95edonClose"),this.star.active=!1,this.node.active=!1,this.closeTween&&this.closeTween.stop(),this.closeTween=null,this.callBack&&this.callBack.run(),this.button.off("click",this.onClickButtonNode,this),this.clickNode.off("click",this.onClickAll,this)},t.prototype.onClickAll=function(){cc.log("=====onClickAll"),this.clickNode.getComponent(cc.Button).interactable=!1,slot.SoundMger.instance.playEffect("Collect_Sound",!1),this.numTween&&this.numTween.stop(),this.numTween=null,this.label.getComponent(r.default).string=slot.SlotUtils.formatNumber(this.win),this.button.active=!0,this.button.scale=.2,cc.tween(this.button).to(.3,{scale:1}).start()},a([l(cc.Node)],t.prototype,"label",void 0),a([l(cc.Node)],t.prototype,"button",void 0),a([l(cc.Node)],t.prototype,"clickNode",void 0),a([l(cc.Node)],t.prototype,"star",void 0),a([c],t)}(game.UIView);n.default=d,cc._RF.pop()},{"../common/NumAtlasLabel111006601":"NumAtlasLabel111006601"}],GameBg111006601:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},a([s],t)}(slot.BaseView));n.default=c,cc._RF.pop()},{}],GameEventName111006601:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111006601"),Object.defineProperty(n,"__esModule",{value:!0}),n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.ROLE_ANI_2SCATTER="ROLE_ANI_2SCATTER",e.ROLE_FREE_SPIN="ROLE_FREE_SPIN",e.ROLE_WIN_ZJ="ROLE_WIN_ZJ",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.BONUS_GAME_START="BONUS_GAME_START",e.FREE_GAME_ROLE_NODE="FREE_GAME_ROLE_NODE",e.FREE_GAME_SPIN_BEGIN="FREE_GAME_SPIN_BEGIN",e.FREE_GAME_SPIN_STOP="FREE_GAME_SPIN_STOP",e.FREE_GAME_MULTIPLE3="FREE_GAME_MULTIPLE3",e.FREE_GAME_RESPIN="FREE_GAME_RESPIN"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),cc._RF.pop()},{}],GameLayer111006601:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bonusGame/BonusGame111006601"),s=e("../common/GameEventName111006601"),c=e("../main/Main111006601"),l=e("./GameRoller111006601"),d=e("./scrollerSkins/JTChildManager111006601"),p=e("./scrollerSkins/JTLayerManager111006601"),h=cc._decorator,u=h.ccclass,f=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winNode=null,t.freeBottomNode=null,t.xinxiNode=null,t.fiveEvenNode=null,t.effectWinDi=null,t.scatterTask=null,t.wildTask=null,t.scroller=null,t._spinAniViews=[],t.idArr=[],t._win5Money=0,t.sumtimes=0,t.bounsGamePrefab=null,t.bounsGamePrefabNode=null,t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),console.log("game111006601 onload"),n._instance=this},t.prototype.onDestroy=function(){this.dispose()},t.prototype.start=function(){this.freeBottomNode.active=!1,this.winNode.active=!1,this.fiveEvenNode.active=!1,this.effectWinDi.active=!1},t.prototype.refreshRoom=function(){for(var e=0;e<this.scroller.items.length;e++)for(var t=this.scroller.items[e],n=0;n<t.items.length;n++){var o=t.items[n];10!=o.data&&11!=o.data||!o.active||o.onRollEnd()}},t.prototype.onScrollerFlowComplete=function(){},t.prototype.onInit=function(){this.xinxiNode.getChildByName("infoboard_b").opacity=0,this.xinxiNode.getChildByName("info_frame_a").opacity=0,slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit")},t.prototype.onInitScroller=function(e){var t=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);t.setupFactory(new p.default,new d.default);var i=t.options(slot.JTScrollingPipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);i.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverScrolling,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),t.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1,this.getFreeSourceList),slot.JTDefaultItemRender.setPlayCoinIndex(2,7),this.scatterTask=new slot.JTScatterTask,this.scatterTask.config(11,2,"5-80-1",0,1e3,"animations/cardAni/jiasu",!0,null,function(e){n.isHasScatter||(slot.SoundMger.instance.playEffect("Character_Scatter_Wait",!1),slot.SoundMger.instance.playEffect("Scatter_Expectation",!0)),e.skinLoader.aniName="loop",n.isHasScatter=!0,game.EventManager.getInstance().raiseEvent(s.EventName.ROLE_ANI_2SCATTER,!0),e.skinLoader.x=e.x+75,e.skinLoader.y=-310},slot.JTScatterTask.ITEM_COUNT_MODE),t.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer),this.scatterTask.onScatterComplte=function(e){e.skinLoader.active=!1},this.slotMachine.playRenderInterval=0},t.prototype._initSlotMachineView=function(){this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=151,this.slotMachine.gridHeight=206,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0},t.prototype.playFullLine=function(){var e=this;if(cc.log("==========================playFullLineAni================:"),this.fiveEvenNode){this.fiveEvenNode.active=!0;var t=this.fiveEvenNode.getChildByName("skeleton").getComponent(sp.Skeleton);t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){e.fiveEvenNode.active=!1});var n=this.fiveEvenNode.getChildByName("5ofakind");n.scale=.2,cc.tween(n).to(.2,{scale:.8}).start()}},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete)},t.prototype._onSpinBegin=function(){this.winNode.active=!1,slot.FreeGameManager.instance.hasFreeGame&&game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_SPIN_BEGIN),this.xinxiNode.getChildByName("infoboard_b").opacity=0,this.xinxiNode.getChildByName("info_frame_a").opacity=0;for(var e=0;e<this.scroller.renders.length;e++){var t=this.scroller.renders[e],n=t._redDiKuang;n&&(cc.log("===== name:",n.name),t._recoverDiKuang())}},t.prototype._onSpinComplete=function(){slot.SoundMger.instance.stopEffect("Scatter_Expectation"),slot.FreeGameManager.instance.isTreateFromFreeGame&&game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_SPIN_STOP),n.isHasScatter&&(game.EventManager.getInstance().raiseEvent(s.EventName.ROLE_ANI_2SCATTER,!1),n.isHasScatter=!1),slot.BonusGameManager.instance.bonusGameInfo&&(slot.SoundMger.instance.playEffect("Free_Start_Sound",!1),game.EventManager.getInstance().raiseEvent(s.EventName.ROLE_FREE_SPIN))},t.prototype._onSpinStop=function(e){slot.SoundMger.instance.playEffect("Reel_Scrolling_End",!1);for(var t=this.scroller.items[e],n=0;n<t.items.length;n++){var o=t.items[n];10==o.data&&o.active?slot.SoundMger.instance.playEffect("Wild_Prize",!1):11==o.data&&o.active&&slot.SoundMger.instance.playEffect("Sctter",!1)}},t.prototype._onSpinStart=function(e){slot.SoundMger.instance.playEffect("Reel_Scrolling",!1),this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni(),slot.FreeGameManager.instance.hasFreeGame&&(this.scroller.items[e].time=1e3)},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Normal,e,t),game.EventManager.getInstance().raiseEvent(s.EventName.ROLE_WIN_ZJ,s.WinType.win)},t.prototype._playFullLineAnimation=function(e,t){t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Great,e,t),slot.SoundMger.instance.playEffect("Prize_Big_Switch",!1)},t.prototype._playMiddleRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Middle,e,t),slot.SoundMger.instance.playEffect("Prize_Big_Switch",!1)},t.prototype._playSmallRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Small,e,t),slot.SoundMger.instance.playEffect("Prize_Big_Switch",!1)},t.prototype.bigPrizeEnd=function(){},t.prototype._onSpinSlotRender=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWin,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_RESPIN,this.updateTimesAdd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIG_PRIZE_COMPLETE,this.bigPrizeEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this.playSoundElement,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this)},t.prototype.playSoundElement=function(){slot.SoundMger.instance.playEffect("Slider_Effect",!1)},t.prototype.restoreInitFreeGame=function(e){cc.log("== restoreResp  resp: ",e),l.default.instance.typeArr=[],this.idArr=[];for(var t=0,n=e.lgHistory;t<n.length;t++){var o=n[t],i=o.result[0],a=o.reward[0].number.toString(),r=Number(a.slice(a.length-2,a.length));this.idArr.push(i),l.default.instance.typeArr.push(r)}cc.log("==    GameRoller111006601.instance.typeArr: ",l.default.instance.typeArr)},t.prototype.updateWin=function(e,t){var n=this;if(cc.log("=====win:",t),!(t<=0)){slot.SoundMger.instance.playEffect("Line_Prize",!1),this.xinxiNode.getChildByName("xinxikuang");var o=t>=5*slot.SpinManager.instance.betCost?"infoboard_b":"info_frame_a";"info_frame_a"==o&&slot.SoundMger.instance.playEffect("Character_Textbox_02",!1),"infoboard_b"==o&&slot.SoundMger.instance.playEffect("Character_Textbox_03",!1),this.xinxiNode.getChildByName(o).opacity=255,this.winNode.active=!0;var i=0;if(slot.FreeGameManager.instance.hasFreeGame){t>=5*slot.SpinManager.instance.betCost&&(cc.tween(this.xinxiNode).to(.3,{scale:1.2}).to(.3,{scale:1}).start(),cc.tween(this.winNode).to(.3,{scale:.9}).to(.3,{scale:.7}).start());for(var a=!1,c=0;c<l.default.instance.typeArr.length;c++)if(l.default.instance.typeArr[c]==r.FreeWinType.multiple3){a=!0;break}a?(i=600,this.winNode.children[1].getComponent("NumAtlasLabel111006601").string=slot.SlotUtils.formatNumber(t/3),game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_MULTIPLE3),this.scheduleOnce(function(){n.setWin5MoneyNum(t)},.6)):this.setWin5MoneyNum(t)}else this.setWin5MoneyNum(t);var d=this.xinxiNode.getChildByName("xinxikuang").getComponent(sp.Skeleton);0==i?d.setAnimation(0,"yingfenkuang2",!1):setTimeout(function(){return d.setAnimation(0,"yingfenkuang3",!1)},i),this.effectWinDi.active=!0,this.effectWinDi.getComponent(sp.Skeleton).setAnimation(0,"light",!1)}},t.prototype.setWin5MoneyNum=function(e){e>=5*slot.SpinManager.instance.betCost?(this.win5Money=0,cc.tween(this).to(.5,{win5Money:e}).start()):this.winNode.children[1].getComponent("NumAtlasLabel111006601").string=slot.SlotUtils.formatNumber(e)},Object.defineProperty(t.prototype,"win5Money",{get:function(){return this._win5Money},set:function(e){this._win5Money=e,this.winNode.children[1].getComponent("NumAtlasLabel111006601").string=slot.SlotUtils.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.addFreeSpinsAni=function(e,t,n){n.run()},t.prototype.onInitFreeGame=function(e,t){var n=this;console.log("oniniffreegame",e),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),this.scheduleOnce(function(){slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0),n.restoreInitFreeGame(e),n.sumtimes=e.times,e.times<e.sumTimes&&(l.default.instance.isNolow=!0);for(var o=[],i=0;i<l.default.instance.typeArr.length;i++)15!=l.default.instance.typeArr[i]&&o.push(l.default.instance.typeArr[i]-10);cc.log("======:bannerster:",o);var a=slot.MainView.instance.node.getChildByName("scorePrefab");switch(a&&(a.y=-645),e.type){case slot.OperationState.Free:game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,o),slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=0,slot.MainView.instance.node.getChildByName("menu").active=!1,game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_START,!0),n.freeBottomNode.active=!0,n.freeBottomNode.children[0].active=!0,n.freeBottomNode.children[1].active=!0,n.freeBottomNode.children[2].active=!1,t.runWith(!0),game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_ROLE_NODE,[n.idArr,l.default.instance.typeArr]);break;case slot.OperationState.ReSpin:}},.2)},t.prototype.onFreeGameTriggered=function(e,t){console.log("onFreeGameTriggered",e),slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0),e.lgHistory&&(this.restoreInitFreeGame(e),game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_ROLE_NODE,[this.idArr,l.default.instance.typeArr])),this.winNode.active=!1,this.sumtimes=e.times;for(var n=[],o=0;o<l.default.instance.typeArr.length;o++)15!=l.default.instance.typeArr[o]&&n.push(l.default.instance.typeArr[o]-10);cc.log("======:bannerster:",n);var i=slot.MainView.instance.node.getChildByName("scorePrefab");switch(i&&(i.y=-645),e.type){case slot.OperationState.Free:game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,n),game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_START),this.freeBottomNode.active=!0,slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=0,slot.MainView.instance.node.getChildByName("menu").active=!1,this.freeBottomNode.children[0].active=!0,this.freeBottomNode.children[1].active=!0,this.freeBottomNode.children[2].active=!1;var a=!1;for(o=0;o<l.default.instance.typeArr.length;o++)if(l.default.instance.typeArr[o]==r.FreeWinType.respin){a=!0;break}this.freeBottomNode.children[1].getComponent("NumAtlasLabel111006601").string=a?(e.times-10).toString():e.times.toString();break;case slot.OperationState.ReSpin:}this.scheduleOnce(function(){t.runWith(!0)},1.5)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){var n=this;switch(console.log("onFreeGameOver",e),slot.MainView.instance.node.getChildByName("scorePrefab").y=-455,e.type){case slot.OperationState.Free:slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=255,slot.MainView.instance.node.getChildByName("menu").active=!0;var o=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_OVER),n.freeBottomNode.active=!1,n.scheduleOnce(function(){t.runWith(!0),slot.SoundMger.instance.playMusic("Game_Back_Music",!0)},1),n.winNode.active=!0,n.winNode.children[1].getComponent("NumAtlasLabel111006601").string=slot.SlotUtils.formatNumber(e.sumSpinCoin),slot.SoundMger.instance.playEffect("Fs_Mg",!1),slot.SoundMger.instance.stopMusic("FreeGame_Back_Music"),slot.SoundMger.instance.playMusic("Game_Back_Music",!0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP)});game.UIManager.getInstance().open(c.UIID.FREE_GAME_RESULT,[o,e.sumSpinCoin]),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,0);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e){switch(console.log("onFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:var t=this.freeBottomNode.getChildByName("lizinum").getComponent(sp.Skeleton);t.node.active=!0,t.setAnimation(0,"animation",!1);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTimesUpdated=function(e){console.log("onFreeGameTimesUpdated.nowTimes:",e),slot.SoundMger.instance.playEffect("Fs_Add",!1),this.freeBottomNode.children[1].getComponent("NumAtlasLabel111006601").string=e.toString(),0==e&&(this.freeBottomNode.children[0].active=!1,this.freeBottomNode.children[1].active=!1,this.freeBottomNode.children[2].active=!0)},t.prototype.updateTimesAdd=function(){var e=this,t=this.freeBottomNode.children[1].getComponent("NumAtlasLabel111006601"),n=this.sumtimes-10;t.string=Math.floor(n).toString(),this.scheduleOnce(function(){var t=e.freeBottomNode.getChildByName("lizinum").getComponent(sp.Skeleton);t.node.active=!0,t.setAnimation(0,"animation",!1)},.1),cc.tween(t.node).delay(.1).call(function(){slot.SoundMger.instance.playEffect("Fs_Add_01"),t.string=(++n).toString()}).union().repeat(10).start()},t.prototype.onBonusGameTriggered=function(e,t){slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0),t.runWith(!0),console.log("onBonusGameTriggered",e),game.EventManager.getInstance().raiseEvent(s.EventName.BONUS_GAME_START),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0)},t.prototype.showBounsGamePrefab=function(){this.bounsGamePrefabNode=cc.instantiate(this.bounsGamePrefab),cc.Canvas.instance.node.addChild(this.bounsGamePrefabNode,slot.LayerManage.effect),this.bounsGamePrefabNode.active=!0},t.prototype.hideBounsGamePrefab=function(){this.bounsGamePrefabNode&&(this.bounsGamePrefabNode.active=!1),cc.Canvas.instance.node.removeChild(this.bounsGamePrefabNode)},t.isHasScatter=!1,a([f({type:cc.Node,tooltip:"\u8d62\u5f97\u591a\u5c11"})],t.prototype,"winNode",void 0),a([f({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f\u91cc\u7684\u5269\u4f59\u6b21\u6570"})],t.prototype,"freeBottomNode",void 0),a([f({type:cc.Node,tooltip:"\u4fe1\u606f\u680f\u5e95\u6846"})],t.prototype,"xinxiNode",void 0),a([f({type:cc.Node,tooltip:"\u4e94\u8fde\u8282\u70b9"})],t.prototype,"fiveEvenNode",void 0),a([f({type:cc.Node,tooltip:"\u4e2d\u5956\u7684\u65f6\u5019\u6709\u4e2a\u767d\u8272\u5149\u6548"})],t.prototype,"effectWinDi",void 0),a([f({type:cc.Prefab,tooltip:"\u5c0f\u6e38\u620f\u9009\u62e9\u65b0\u5a18\u754c\u9762 \u9884\u5236"})],t.prototype,"bounsGamePrefab",void 0),n=a([u],t)}(slot.AbstractMainView);n.default=m,cc._RF.pop()},{"../bonusGame/BonusGame111006601":"BonusGame111006601","../common/GameEventName111006601":"GameEventName111006601","../main/Main111006601":"Main111006601","./GameRoller111006601":"GameRoller111006601","./scrollerSkins/JTChildManager111006601":"JTChildManager111006601","./scrollerSkins/JTLayerManager111006601":"JTLayerManager111006601"}],GameRoller111006601:[function(e,t,n){"use strict";cc._RF.push(t,"72a53/MmPxGSYwZqThu/8oT","GameRoller111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bonusGame/BonusGame111006601"),s=e("../common/GameEventName111006601"),c=e("../freeGame/SingleBrideNode111006601"),l=cc._decorator,d=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.role=null,t.bg_top=null,t.bg_top1=null,t.freeGameRoleNode=null,t.effectRandomWild=null,t.effectNolow=null,t.effectWildStack=null,t.effectMultiple3=null,t.effectRespin10=null,t.winNode=null,t.effectEndNode=null,t.winEleAniParent=null,t.bridePrefab=null,t.brideSkeleon=[],t.isScatter=!1,t.isChufaFree=!1,t.isWin=!1,t.animaNames=["idle_02","idle_03","idle_05","idle_06"],t.typeArr=[],t.tweenRandomWild=null,t.arr=[],t.isNolow=!1,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){this.role.active=!0,this.schedule(this.roleAnimaRound,15),this.addEventListener(),n.instance=this},t.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(s.EventName.ROLE_ANI_2SCATTER,this.onRoleAni2Scatter,this),game.EventManager.getInstance().addEventListener(s.EventName.ROLE_FREE_SPIN,this.onRoleFreeSpin,this),game.EventManager.getInstance().addEventListener(s.EventName.ROLE_WIN_ZJ,this.onRoleWinZJ,this),game.EventManager.getInstance().addEventListener(s.EventName.BONUS_GAME_START,this.onBonusGameStart,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_ROLE_NODE,this.onFreeGameRoleNode,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_SPIN_BEGIN,this.onFreeGameSpinBegin,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_SPIN_STOP,this.onFreeGameSpinStop,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_MULTIPLE3,this.onFreeGameMultiple3,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_OVER,this.onFreeGameOver,this)},t.prototype.removeEventListener=function(){game.EventManager.getInstance().removeEventListener(s.EventName.ROLE_ANI_2SCATTER,this.onRoleAni2Scatter,this),game.EventManager.getInstance().removeEventListener(s.EventName.ROLE_FREE_SPIN,this.onRoleFreeSpin,this),game.EventManager.getInstance().removeEventListener(s.EventName.ROLE_WIN_ZJ,this.onRoleWinZJ,this),game.EventManager.getInstance().removeEventListener(s.EventName.BONUS_GAME_START,this.onBonusGameStart,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_ROLE_NODE,this.onFreeGameRoleNode,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_SPIN_BEGIN,this.onFreeGameSpinBegin,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_SPIN_STOP,this.onFreeGameSpinStop,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_MULTIPLE3,this.onFreeGameMultiple3,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_OVER,this.onFreeGameOver,this)},t.prototype.roleAnimaRound=function(){var e=this;if(!(this.isChufaFree||this.isWin||this.isScatter)){var t=Math.floor(4*Math.random());slot.FreeGameManager.instance.hasFreeGame||1!=t&&3!=t||slot.SoundMger.instance.playEffect("Character_Whiste",!1),this.role.getComponent(sp.Skeleton).setAnimation(0,this.animaNames[t],!1),this.role.getComponent(sp.Skeleton).setCompleteListener(function(){e.role.getComponent(sp.Skeleton).animation==e.animaNames[t]&&e.role.getComponent(sp.Skeleton).setAnimation(0,"idle_01",!0)})}},t.prototype.onRoleAni2Scatter=function(e,t){t?(this.isScatter=!0,this.role.getComponent(sp.Skeleton).setAnimation(0,"fastspin_idle",!0)):(this.isScatter=!1,this.role.getComponent(sp.Skeleton).setAnimation(0,"idle_01",!0))},t.prototype.onRoleFreeSpin=function(){this.isChufaFree=!0,this.role.getComponent(sp.Skeleton).setAnimation(0,"fastspin_win_idle",!0)},t.prototype.onRoleWinZJ=function(){var e=this;this.isWin=!0;var t=["win_01","win_02"],n=Math.floor(2*Math.random());1==n&&slot.SoundMger.instance.playEffect("Character_Win_01",!1),0==n&&slot.SoundMger.instance.playEffect("Character_Win_02",!1),this.role.getComponent(sp.Skeleton).setAnimation(0,t[n],!1),this.role.getComponent(sp.Skeleton).setCompleteListener(function(){e.role.getComponent(sp.Skeleton).animation==t[n]&&(e.role.getComponent(sp.Skeleton).setAnimation(0,"idle_01",!0),e.isWin=!1)})},t.prototype.onBonusGameStart=function(){this.role.active=!1,this.bg_top.active=!0,this.bg_top1.active=!0},t.prototype.onFreeGameStart=function(e,t){if(void 0===t&&(t=!1),this.bg_top.active=!0,this.role.active=!1,!t)for(var n=0;n<this.typeArr.length;n++)if(this.typeArr[n]==r.FreeWinType.respin){this.freeGameTimes10FlytoBottom();break}},t.prototype.onFreeGameOver=function(){this.isChufaFree=!1,this.role.active=!0,this.bg_top.active=!1,this.bg_top1.active=!1,this.freeGameRoleNode.active=!1,this.freeGameRoleNode.removeAllChildren(),this.effectNolow.active=!1,this.effectRandomWild.active=!1,this.isNolow=!1},t.prototype.onFreeGameRoleNode=function(e,t){cc.log("=====onFreeGameRoleNode",t);var n=t[0];this.typeArr=t[1],this.freeGameRoleNode.active=!0;var o;o=2==this.typeArr.length?-110:3==this.typeArr.length?-230:-310;for(var i=0;i<this.typeArr.length;i++){var a=null;if(!this.freeGameRoleNode.children[i]){(a=cc.instantiate(this.bridePrefab)).attr({indexId:this.typeArr[i]});var r=a.getComponent("SingleBrideNode111006601");this.freeGameRoleNode.addChild(a,i),r.setChildNodeData(i,n[i],a,o,320,this.brideSkeleon[this.typeArr[i]-11],n.length)}}},t.prototype.onFreeGameSpinBegin=function(){this.playRandomAniStart()},t.prototype.onFreeGameSpinStop=function(){this.effectNolow.active=!1,this.effectRandomWild.active=!1,this.effectWildStack.active=!1;var e=slot.SpinManager.instance.rollingResult&&slot.SpinManager.instance.rollingResult.spinResult.gridChanged;if(e)for(var t=0;t<this.typeArr.length;t++)if(this.typeArr[t]==r.FreeWinType.randomwild){for(var n=0,o=0;o<slot.SlotMachineView.instance.scroller.items.length;o++)for(var i=slot.SlotMachineView.instance.scroller.items[o],a=0;a<i.items.length;a++){var s=i.items[a];s.active&&(s.data=e[n],n++)}break}},t.prototype.playRandomAniStart=function(){for(var e=0;e<this.typeArr.length;e++){var t=this.typeArr[e];this.chooseType(t)}},t.prototype.chooseType=function(e){switch(e){case r.FreeWinType.nolow:this.freeGameLowMultiple();break;case r.FreeWinType.wildstack:this.freeGameARowFlytoMachine();break;case r.FreeWinType.randomwild:this.freeGameWildFlytoMachine();break;case r.FreeWinType.multiple3:case r.FreeWinType.respin:}},t.prototype.onFreeGameMultiple3=function(){this.freeGameM3FlytoWin()},t.prototype.freeGameWildFlytoMachine=function(){var e=this;this.tweenRandomWild&&this.tweenRandomWild.stop(),this.tweenRandomWild=null,cc.tween(this).delay(.6).call(function(){slot.SoundMger.instance.playEffect("Fs_Bride_Fan",!1),e.effectEndNode.getChildByName("randomWlid_zz").opacity=180;var t=e.freeGameRoleNode.children.find(function(e){return e.indexId===r.FreeWinType.randomwild});t.getComponent(c.default).winPlayAni(),e.effectRandomWild.active=!0,e.arr=[],e.randomNum(3);for(var n=0;n<3;n++){var o=e.arr[n];e.wildFlytoMachine(o,n,t)}}).delay(.7).call(function(){e.effectEndNode.getChildByName("randomWlid_zz").opacity=0,e.arr=[],e.randomNum(3);for(var t=0;t<3;t++)e.wildRandomNext(e.arr[t],t)}).delay(.7).call(function(){var t=slot.SpinManager.instance.rollingResult&&slot.SpinManager.instance.rollingResult.spinResult.gridChanged;if(t){for(var n=[],o=!1,i=0,a=e.typeArr;i<a.length;i++)if(a[i]==r.FreeWinType.wildstack){o=!0;break}for(var s=0;s<t.length;s++)o?10==t[s]&&6!=s&&7!=s&&8!=s&&n.push(s):10==t[s]&&n.push(s);if(n.length>=3)for(var c=0;c<n.length&&!(c>2);c++){var l=n[c];e.wildRandomNext(l,c)}}}).start()},t.prototype.wildFlytoMachine=function(e,t,n){var o=this,i=slot.SlotMachineView.instance.getPosByIndex(e),a=this.winEleAniParent.convertToWorldSpaceAR(cc.v2(i.x,i.y)),r=this.node.convertToNodeSpaceAR(a);cc.log("===3\u4e2a\u968f\u673a\u767e\u642d\u7684\u968f\u5ea7\u4f4d\u53f7: ",e),this.effectRandomWild.children[t].x=n.x+60,this.effectRandomWild.children[t].y=n.y+145,this.effectRandomWild.children[t].active=!0,this.effectRandomWild.children[t].children[1].active=!1,this.effectRandomWild.children[t].children[0].active=!1,this.effectRandomWild.children[t].children[2].active=!0,this.effectRandomWild.children[t].scale=.8,cc.tween(this.effectRandomWild.children[t]).to(.4,{x:r.x,y:r.y,scale:1}).call(function(){o.effectRandomWild.children[t].x=r.x,o.effectRandomWild.children[t].y=r.y,o.effectRandomWild.children[t].children[2].active=!1,"zh"==slot.GData.curLanguage?(o.effectRandomWild.children[t].children[0].active=!0,o.effectRandomWild.children[t].children[1].active=!1):(o.effectRandomWild.children[t].children[1].active=!0,o.effectRandomWild.children[t].children[0].active=!1)}).start()},t.prototype.wildRandomNext=function(e,t){var n=this;slot.SoundMger.instance.playEffect("Fs_Bride_Fan",!1);var o=slot.SlotMachineView.instance.getPosByIndex(e),i=this.winEleAniParent.convertToWorldSpaceAR(cc.v2(o.x,o.y)),a=this.node.convertToNodeSpaceAR(i);this.effectRandomWild.children[t].active=!0,this.tweenRandomWild=cc.tween(this.effectRandomWild.children[t]).to(.4,{x:a.x,y:a.y}).call(function(){n.effectRandomWild.children[t].x=a.x,n.effectRandomWild.children[t].y=a.y}).start()},t.prototype.randomNum=function(e,t){void 0===t&&(t=[]);var n=Math.floor(15*Math.random());-1==this.arr.indexOf(n)&&-1==t.indexOf(n)&&this.arr.push(n),this.arr.length<=e&&this.randomNum(e,t)},t.prototype.freeGameLowMultiple=function(){var e=this,t=this.freeGameRoleNode.children.find(function(e){return e.indexId===r.FreeWinType.nolow});if(t&&(this.scheduleOnce(function(){t.getComponent(c.default).winPlayAni()},3),!this.isNolow)){var n=this.effectEndNode.getChildByName("lowpay_out_shade");n.opacity=0,cc.tween(n).delay(1).call(function(){n.opacity=100}).to(.5,{opacity:180}).delay(2).to(.2,{opacity:0}).start(),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Fs_Bride_Fan",!1),e.effectNolow.active=!0,slot.SoundMger.instance.playEffect("Lowpay_Out_Animation",!1);for(var n=[],o=0;o<e.typeArr.length;o++)if(e.typeArr[o]==r.FreeWinType.randomwild){var i=slot.SpinManager.instance.rollingResult&&slot.SpinManager.instance.rollingResult.spinResult.gridChanged;if(i)for(var a=0;a<i.length;a++)10==i[a]&&n.push(a);break}for(e.arr=[],e.randomNum(4,n),o=0;o<4;o++){var s=e.arr[o];e.LowMultipleFlytoRole(s,o,t)}e.isNolow=!0},.8)}},t.prototype.LowMultipleFlytoRole=function(e,t,n){var o=this,i=slot.SlotMachineView.instance.getPosByIndex(e),a=slot.SlotMachineView.instance.node.convertToWorldSpaceAR(cc.v2(i.x,i.y)),r=this.node.convertToNodeSpaceAR(a);this.effectNolow.children[t].x=r.x,this.effectNolow.children[t].y=r.y,this.effectNolow.children[t].active=!0,this.effectNolow.children[t].scale=1,this.effectNolow.children[t].opacity=255,cc.tween(this.effectNolow.children[t]).delay(1).to(.1,{scale:1.1}).to(.1,{scale:1}).to(.3,{x:n.x+60,y:n.y+145,opacity:100,scale:.5}).call(function(){o.effectNolow.children[t].active=!1,o.effectNolow.children[t].opacity=255}).start(),this.effectNolow.children[t].children[1].opacity=255,cc.tween(this.effectNolow.children[t].children[1]).delay(1.2).to(.1,{opacity:0}).start()},t.prototype.freeGameARowFlytoMachine=function(){var e=this,t=this.freeGameRoleNode.children.find(function(e){return e.indexId===r.FreeWinType.wildstack}),n=slot.SlotMachineView.instance.scroller.renders[7].convertToWorldSpaceAR(cc.v2(0,0)),o=this.node.convertToNodeSpaceAR(n);this.effectWildStack.x=t.x+60,this.effectWildStack.y=t.y+145,cc.tween(this.effectWildStack).delay(1.5).call(function(){slot.SoundMger.instance.playEffect("Fs_Bride_Fan",!1),t.getComponent(c.default).winPlayAni(),e.effectWildStack.active=!0,e.effectWildStack.opacity=255,e.effectWildStack.scale=1}).to(.4,{x:o.x,y:o.y,scale:.8}).by(.2,{y:-250,opacity:-255}).call(function(){slot.SoundMger.instance.playEffect("Middle_Wild",!1),e.effectWildStack.active=!1,e.effectWildStack.opacity=255}).start()},t.prototype.freeGameM3FlytoWin=function(){var e=this;if(this.freeGameRoleNode&&this.winNode&&this.node){slot.SoundMger.instance.playEffect("Fs_Bride_Fan",!1);var t=this.freeGameRoleNode.children.find(function(e){return e.indexId===r.FreeWinType.multiple3});t.getComponent(c.default).winPlayAni();var n=this.winNode.convertToWorldSpaceAR(this.winNode.children[1].position),o=this.node.convertToNodeSpaceAR(n);this.effectMultiple3.x=t.x+60,this.effectMultiple3.y=t.y+145,this.effectMultiple3.scale=1,this.effectMultiple3.active=!0,this.effectMultiple3.opacity=255,cc.tween(this.effectMultiple3).to(.5,{x:o.x,y:o.y,scale:.7}).to(.2,{opacity:0}).call(function(){e.effectMultiple3.active=!1,e.effectMultiple3.opacity=255}).start()}},t.prototype.freeGameTimes10FlytoBottom=function(){var e=this;slot.SoundMger.instance.playEffect("Fs_Bride_Fan",!1);var t=this.freeGameRoleNode.children.find(function(e){return e.indexId===r.FreeWinType.respin});t.getComponent(c.default).winPlayAni();var n=this.effectEndNode.children[1];this.effectRespin10.x=t.x+60,this.effectRespin10.y=t.y+145,this.effectRespin10.active=!0,this.effectRespin10.opacity=255,cc.tween(this.effectRespin10).to(.5,{x:n.x,y:n.y}).set({opacity:0}).call(function(){game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_RESPIN)}).call(function(){e.effectRespin10.opacity=255,e.effectRespin10.active=!1}).start()},t.instance=null,a([p(cc.Node)],t.prototype,"role",void 0),a([p(cc.Node)],t.prototype,"bg_top",void 0),a([p(cc.Node)],t.prototype,"bg_top1",void 0),a([p(cc.Node)],t.prototype,"freeGameRoleNode",void 0),a([p({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f3\u4e2a\u767e\u642d"})],t.prototype,"effectRandomWild",void 0),a([p({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f\u6625\u590f\u79cb\u51ac"})],t.prototype,"effectNolow",void 0),a([p({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f\u4e00\u5217\u767e\u642d"})],t.prototype,"effectWildStack",void 0),a([p({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f\u500d\u7387*3"})],t.prototype,"effectMultiple3",void 0),a([p({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f\u6b21\u657010"})],t.prototype,"effectRespin10",void 0),a([p({type:cc.Node,tooltip:"\u8d62\u5f97\u591a\u5c11"})],t.prototype,"winNode",void 0),a([p({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f\u91cc\u7684\u8d62\u5f97\u5206\u548c\u5269\u4f59\u6b21\u6570\u8282\u70b9"})],t.prototype,"effectEndNode",void 0),a([p({type:cc.Node,tooltip:"\u4e2d\u5956\u5143\u7d20\u52a8\u6548\u7684\u7236\u8282\u70b9"})],t.prototype,"winEleAniParent",void 0),a([p(cc.Prefab)],t.prototype,"bridePrefab",void 0),a([p([sp.SkeletonData])],t.prototype,"brideSkeleon",void 0),n=a([d],t)}(slot.BaseView);n.default=h,cc._RF.pop()},{"../bonusGame/BonusGame111006601":"BonusGame111006601","../common/GameEventName111006601":"GameEventName111006601","../freeGame/SingleBrideNode111006601":"SingleBrideNode111006601"}],JTChildManager111006601:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111006601"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111006601":"SpinSlotViewExtend111006601"}],JTLayerManager111006601:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameLayer111006601"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,n),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e);var o=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e),i=this.addChildNode(t.FRAME_IMAGE_CONTAINER,e);a.default.instance.xinxiNode.removeFromParent(),i.addChild(a.default.instance.xinxiNode),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),n.launch(e),o.setup(e.config.getWidth()+2,e.config.getHeight(),160)},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t}(slot.JTLayerFactory);n.default=r,cc._RF.pop()},{"../GameLayer111006601":"GameLayer111006601"}],JTLogicFactroy111006601:[function(e,t,n){"use strict";cc._RF.push(t,"0b1bej8mE9NSq2GpFEH5Hkg","JTLogicFactroy111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){},t}(slot.JTLogicFactroy);n.default=a,cc._RF.pop()},{}],LanguageInfo111006601:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111006601:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111006601");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=e("./WinAniManager111006601"),l=cc._decorator,d=l.ccclass,p=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return c.default},r([d],t)}(slot.MainView));n.default=p,function(e){e[e.BONUS_GAME_POPUP=1e4]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=10001]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111006601",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_GAME_RESULT]={bundleName:"game_111006601",path:"prefabs/freeGame/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{"./WinAniManager111006601":"WinAniManager111006601"}],NumAtlasLabel111006601:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],SingleBrideNode111006601:[function(e,t,n){"use strict";cc._RF.push(t,"2388aqBylBJ/7sHPaedsOBs","SingleBrideNode111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._type=0,t._childNode=null,t}return i(t,e),Object.defineProperty(t.prototype,"idType",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){},t.prototype.setChildNodeData=function(e,t,n,o,i,a,r){this._childNode=n,n.scale=r>3?.6:1,o+=r>3?150*e:230*e,0==t||3==t?(n.x=-600,n.y=0):1!=t&&2!=t&&4!=t||(n.x=600,n.y=0),cc.tween(n).to(.5,{x:o,y:i}).call(function(){n.x=o,n.getComponent(sp.Skeleton).skeletonData=a,n.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)}).start()},t.prototype.winPlayAni=function(){var e=this;this._childNode&&(this._childNode.getComponent(sp.Skeleton).setAnimation(0,"win",!1),this._childNode.getComponent(sp.Skeleton).setCompleteListener(function(){"win"==e._childNode.getComponent(sp.Skeleton).animation&&e._childNode.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)}))},a([c(cc.Node)],t.prototype,"_childNode",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],SpinSlotViewExtend111006601:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._slotFrameAniView=null,t._slotFrameAniViewSign="___SLOT_FRAME_ANI_VIEW_SIGN",t._redDiKuang=null,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=.75,t}return i(t,e),t.prototype.onPlayAnimation=function(e,t,n,o){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win"),this._showFrameAniView(o,n)},t.prototype.onRollEnd=function(){10!=this.data&&11!=this.data||(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),this.skinLoader.skeletonNode.scale=.7),11==this.data&&this.active&&this._showDikuang()},t.prototype.onPlayIdleAnimaition=function(){10!=this.data&&11!=this.data||this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle")},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype._showFrameAniView=function(){this._slotFrameAniView||(this._slotFrameAniView=this._getSlotFrameAniView()),this._slotFrameAniView.setScale(.9),this._slotFrameAniView.active=!0,this.addEffectNode(this._slotFrameAniView,!1)},t.prototype._getSlotFrameAniView=function(){if(this._slotFrameAniView)return this._slotFrameAniView;this._slotFrameAniView=new cc.Node;var e=this._slotFrameAniView.addComponent(slot.AnimationExtend),t=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/zhongjiang/zhongjiangfuhao",slot.GData.bundleName,"animation");return e.init(t),e.play("animation",!0),this._slotFrameAniView},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},Object.defineProperty(t.prototype,"redDiKuang",{get:function(){return this._redDiKuang=this.getChildByName("redDiKuang"),this._redDiKuang},enumerable:!1,configurable:!0}),t.prototype._showDikuang=function(){this._redDiKuang||(this._redDiKuang=this._getDikuang()),this._redDiKuang.active=!0,this.addEffectNode(this._redDiKuang,!1),this._redDiKuang.y=-10,this._redDiKuang.x=3},t.prototype._getDikuang=function(){if(this._redDiKuang)return this._redDiKuang;this._redDiKuang=new cc.Node,this._redDiKuang.name="redDiKuang";var e=this._redDiKuang.addComponent(cc.Sprite);return game.ResLoader.getInstance().loadRes("textures/ui/ui/fs_pattern",cc.SpriteAtlas,null,function(t,n){if(t)return t;e.spriteFrame=n.getSpriteFrame("scatter_glow_a")},slot.GData.bundleName),this._redDiKuang},t.prototype._recoverDiKuang=function(){cc.log("=====\u56de\u6536 \u5206\u6563\u7684\u5e95\u6846"),this._redDiKuang&&(this._redDiKuang.removeFromParent(),this._redDiKuang.active=!1,this._redDiKuang=null)},t.prototype._getRewardsAnimation=function(){},t._rewardsView=null,t}(slot.SpinSlotView);n.default=a,cc._RF.pop()},{}],WinAniManager111006601:[function(e,t,n){"use strict";cc._RF.push(t,"cbd36kmBNRMtatrZGLRASsE","WinAniManager111006601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onPlayFinalAnimation=function(){var e=this.getWinTextNode();cc.tween(e).to(.15,{scale:.9}).to(.15,{scale:.7}).start(),this.onStageChange();var t=this.animationMap.get("win_ui_lizi");t.node.active=!0,t.play("superwin_zhakai",!1);var n=this.animationMap.get("win_lizi_coin");n&&(n.node.active=!1)},t.prototype.onCoinIncreaseEnd=function(){this.onPlayFinalAnimation()},t.prototype.playWinTextFadeIn=function(e){return this.onStageChange(),cc.tween(e).to(.15,{scale:.9}).to(.15,{scale:.7}).start()},t.prototype.onStageChange=function(){if(0!=Number(this.winCoinLabel.string)){if(!this.node.getChildByName("newLabel")){var e=new cc.Node;e.name="newLabel",e.addComponent(slot.CommonNumAtlasBase),this.node.addChild(e)}var t=this.node.getChildByName("newLabel"),n=t.getComponent(slot.CommonNumAtlasBase);this.setNewFont(n),n.string=this.winCoinLabel.string,t.active=!1,t.opacity=200,t.scale=.65,cc.tween(t).delay(.15).call(function(){t.active=!0}).to(1,{scale:.85,opacity:0}).start();var o=this.winCoinLabel.node;cc.tween(o).to(.15,{scale:.85}).to(.15,{scale:.65}).start()}},t.prototype.setNewFont=function(e){var t,n,o=this.winFontMap.get(2);e.offScale=o.config.scale||1,e.node.x=o.config.x||0,e.node.y=o.config.y||0,e.spaceX=o.config.spaceX||0,e.shrink=null===(t=o.config.shrink)||void 0===t||t,e.maxWidth=o.config.maxWidth||600,e.anchorY=null!==(n=o.config.anchorY)&&void 0!==n?n:1,e.AtlsElment=[].concat(o.atlasElment)},t.prototype.playFadeOut=function(e){var t=this,n=this.animationMap.get("win_bg_fx");n.node.active=!1,cc.tween(this.node).to(.15,{scale:1.2}).to(.15,{scale:0}).call(function(){t.node.scale=1,n.node.active=!0;var o=t.animationMap.get("win_lizi_coin");o&&(o.node.active=!0),e.run()}).start()},a([s],t)}(slot.WinAniManager));n.default=c,cc._RF.pop()},{}]},{},["BonusGame111006601","Banner111006601","GameEventName111006601","NumAtlasLabel111006601","FreeGameResult11000066","SingleBrideNode111006601","GameBg111006601","LanguageInfo111006601","Main111006601","WinAniManager111006601","GameLayer111006601","GameRoller111006601","SpinSlotViewExtend111006601","JTChildManager111006601","JTLayerManager111006601","JTLogicFactroy111006601"]);